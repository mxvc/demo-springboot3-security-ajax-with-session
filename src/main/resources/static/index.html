<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
</head>
<body>


<script>
    async function login() {
        const username = 'admin';
        const password = '123456';

        const response = await fetch('/api/login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            credentials: 'include',
            body: JSON.stringify({
                username: username,
                password: password
            })
        });

        const data = await response.json();
        alert(JSON.stringify(data))
    }

    async function query() {
        try {


        const response = await fetch('/welcome', {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json'
            },
            credentials: 'include'
        });
        const data = await response.json();
        alert(JSON.stringify(data))
        }catch (e){
            alert(JSON.stringify(e))
        }
    }
</script>
<button onclick="login()">登录</button>
<button onclick="query()">查询</button>

</body>
</html>
